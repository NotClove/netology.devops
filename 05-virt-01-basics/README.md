
# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."



## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

```
- Полная(аппаратная) виртуализация устанавливается на голое железо(сама по себе является ОС).
- Паравиртуализация используется на существующей ОС и на базе этой архитектуры создают свою экосистему.
- Виртуализация на основе ОС, похожа на паравиртуализацию, но использует компоненты операционной системы, на которой
  установлена, поэтому можно запускать только ОС с похожим типом ядра хостового сервера.
```


## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.
- Различные web-приложения.
- Windows системы для использования бухгалтерским отделом.
- Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

```
- Высоконагруженная база данных, чувствительная к отказу.
  Для этого условия лучше всего подходит физический сервер, т.к БД чувствительна к производительности
  и просто нет смысла устаналивать еще одну прослойку виртуализации, нельзя обвешивать дополнительные сервисы из-за
  риска нехватки iops или дополнительной точки отказа.

- Различные web-приложения.
  Отлично зайдет виртуализация на уровне ОС, множественные реплики, балансировщики нагрузки и возможность создавать
  окружения для разработчиков и тестирования.

- Windows системы для использования бухгалтерским отделом.
  В этом случае без проблем можно использовать паравиртуализацию, для бухгалтерии критична полная изоляция из-за риска
  частого обмена писем, содержащие вредоностные файлы под видом счетов/актов и т.д

- Системы, выполняющие высокопроизводительные расчеты на GPU.
  Отличным выбором будет являться физический сервер. Но в моей практике мне приходилось строить систему паравиртуализации
  на базе Citrix XenServer и Nvidia Grid, была задача сделать удаленные рабочие места для проектировщиков.

```


## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

```
1. Hyper-v скорее всего будет являться лучшим выбором, windows-based инфраструктура и остальные требования идеально
   подходят по этот выбор.
   Так же подойдет VMWare.
2. KVM и Proxmon, бесплатное open source, быстрое, для небольшой инфраструктуры хорошо подойдет.
3. Опять же Hyper-v максимально близко к Windows дистрибутивам(во всех смыслах :)).
4. Максимально быстро и просто это позволяет делать Docker, за счет готовых образов, переиспользования существующих
   путем добавления слоев и декларативного использования. 
```


## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.


```
Основная проблема разных систем виртуализации, это не совместимость виртуальных машин между собой(т.е их нельзя быстро
перенести из одной системы в другую), встает вопрос разделения не оптимального разделения мощностей, а так же проблемы 
с поддержкой, требуется квалификация сотрудников.

В моей практике одновременно использовался hyper-v, xenserver и docker
Hyper-v отлично подходил под крупные сервисы компании, docker под микросервисы, а xenserver для расчетов на видеокартах.

Я считаю что это хорошая практика использовать нужный тип виртуализации под конкретную задачу, например Hyper-v + docker
```
